# Xbox One 手柄测试工具

这是一个用于测试Xbox One游戏手柄的网页应用，可以测试所有按键（包括LB/RB和LT/RT扳机键），测试震动功能（包括扳机震动），以及监测按键状态并导出数据。

## 功能特点

### 按键测试
- 可视化显示所有Xbox手柄按键
- 实时显示按键按下状态
- 支持摇杆位置显示
- 支持扳机键压力显示

### 震动测试
- 左右马达震动强度调节
- 左右扳机震动强度调节（需要支持触觉反馈的手柄）
- 一键应用/停止震动

### 按键状态监测
- 可调节采样率（1-1000Hz）
- 示波器实时显示按键状态
- 检测手柄断开状态
- 导出CSV格式数据，包含：
  - 按键名称
  - 采样率
  - 时间戳
  - 按下状态值（0-1）
  - 是否断开标志

## 使用方法

1. 将Xbox手柄连接到电脑
2. 打开`index.html`文件
3. 网页会自动检测并连接手柄
4. 使用各功能区测试手柄

### 按键测试区
- 按下手柄上的任意按键，对应按钮会在界面上高亮显示
- 移动摇杆，界面上的摇杆点会相应移动
- 按压扳机键，界面上的扳机键会根据压力程度变化透明度

### 震动测试区
- 调节左右马达和扳机的震动强度（0-1）
- 点击"应用震动"按钮使手柄震动
- 点击"停止震动"按钮停止所有震动

### 状态监测区
1. 设置采样率（默认60Hz）
2. 点击"开始监测"按钮开始记录数据
3. 示波器会实时显示按键状态
4. 点击"停止监测"按钮停止记录
5. 点击"导出数据(CSV)"按钮下载记录的数据

## 技术说明

本应用使用纯HTML、CSS和JavaScript开发，使用了以下Web API：

- Gamepad API：用于获取手柄状态和控制震动
- File API：用于导出CSV数据

## 兼容性说明

- 支持大多数现代浏览器（Chrome、Edge、Firefox等）
- 扳机震动功能需要支持触觉反馈的手柄和浏览器
- 建议使用Chrome或Edge浏览器获得最佳体验

## 注意事项

- 高采样率可能会影响性能，建议根据实际需要调整
- 某些浏览器可能需要用户交互后才能使用震动功能
- 部分手柄可能不支持扳机震动功能